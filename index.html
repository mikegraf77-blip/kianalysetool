<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYQUA KI Starter KIT - Analysetool</title>
    <style>
        :root {
            --primary: #20B2AA;
            --primary-light: #4DD0E1;
            --primary-dark: #0A8C86;
            --secondary: #FFFFFF;
            --background: #F5F8FA;
            --text: #333333;
            --text-light: #777777;
            --border: #E0E0E0;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 10px;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 20px;
            background-color: #000000;
            color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }
        
        header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            color: var(--primary-light);
        }
        
        header p {
            font-size: 18px;
            opacity: 0.9;
            color: var(--primary-light);
        }
        
        .logo {
            width: 200px;
            height: auto;
            margin-bottom: 15px;
        }
        
        .card {
            background: white;
            border-radius: var(--radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        .card h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-light);
        }
        
        .card h3 {
            margin: 25px 0 15px;
            color: var(--primary-dark);
        }
        
        .phases {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .phase {
            flex: 1;
            min-width: 300px;
            padding: 20px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            position: relative;
            border-top: 4px solid var(--primary);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .phase:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }
        
        .phase-number {
            position: absolute;
            top: -15px;
            left: 20px;
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .question-group {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background: rgba(255,255,255,0.5);
        }
        
        .question {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .question:last-child {
            border-bottom: none;
        }
        
        .question label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .question input[type="text"],
        .question textarea,
        .question select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 5px;
            font-size: 16px;
        }
        
        .question textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        button.secondary {
            background: white;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        button.secondary:hover {
            background: #f0f0f0;
        }
        
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .hidden {
            display: none !important;
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .result-card {
            background: white;
            border-radius: var(--radius);
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid var(--primary);
        }
        
        .result-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .use-case {
            background: rgba(77, 208, 225, 0.1);
            border: 1px solid var(--primary-light);
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .use-case h4 {
            color: var(--primary-dark);
            margin-bottom: 8px;
        }
        
        .rating {
            display: flex;
            flex-wrap: wrap;
            margin: 10px 0;
            gap: 8px;
        }
        
        .rating span {
            background: var(--primary-light);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 14px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        table th, table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        table th {
            background: rgba(77, 208, 225, 0.1);
            color: var(--primary-dark);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--text-light);
            font-size: 14px;
            margin-top: 40px;
        }
        
        .error {
            border-color: #ff6b6b !important;
        }
        
        .error-message {
            color: #ff6b6b;
            font-size: 14px;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .phase {
                min-width: 100%;
            }
            
            .buttons {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            .rating {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <!-- TYQUA Logo -->
            <svg width="200" height="50" viewBox="0 0 200 50">
                <text x="10" y="35" font-family="Arial" font-size="40" font-weight="bold" fill="#4DD0E1">TYQUA</text>
            </svg>
            <h1>KI Starter KIT - Analysetool</h1>
            <p>Systematische Identifikation und Planung von KI-Use-Cases für Ihr Unternehmen</p>
        </header>
        
        <div id="phase-selector">
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            
            <div class="phases">
                <div class="phase" onclick="showPhase('interview')" id="phase-interview-btn">
                    <div class="phase-number">1</div>
                    <h3>Interview-Phase</h3>
                    <p>Kontext verstehen & KI-Potenziale identifizieren</p>
                </div>
                <div class="phase" onclick="showPhase('results')" id="phase-results-btn">
                    <div class="phase-number">2</div>
                    <h3>Zwischenergebnisse</h3>
                    <p>Identifizierte Use Cases und Potenziale</p>
                </div>
                <div class="phase" onclick="showPhase('planning')" id="phase-planning-btn">
                    <div class="phase-number">3</div>
                    <h3>Planungsphase</h3>
                    <p>Use Case auswählen & Umsetzung planen</p>
                </div>
            </div>
        </div>
        
        <div id="phase-interview" class="phase-content">
            <div class="card">
                <h2>Phase 1 + 2: Interview & KI-Potenziale</h2>
                <p>Beantworten Sie die folgenden Fragen, um Ihr Unternehmen und potenzielle KI-Anwendungsfälle zu identifizieren.</p>
                
                <form id="interview-form">
                    <div class="question-group">
                        <h3>Kontext & Verständnis</h3>
                        
                        <div class="question">
                            <label for="business">1. Was genau bietet Ihr Unternehmen an – in einem Satz?</label>
                            <textarea id="business" required></textarea>
                            <div class="error-message" id="business-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="customers">2. Wer sind Ihre typischen Kunden?</label>
                            <textarea id="customers" required></textarea>
                            <div class="error-message" id="customers-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="acquisition">3. Wie gewinnen Sie aktuell neue Kunden?</label>
                            <textarea id="acquisition" required></textarea>
                            <div class="error-message" id="acquisition-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="bottlenecks">4. Was sind aktuell Ihre größten operativen Engpässe?</label>
                            <textarea id="bottlenecks" required></textarea>
                            <div class="error-message" id="bottlenecks-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="manual">5. Welche Prozesse laufen noch manuell oder sind besonders zeitintensiv?</label>
                            <textarea id="manual" required></textarea>
                            <div class="error-message" id="manual-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="experience">6. Haben Sie schon mit Automatisierung, KI oder Tools experimentiert?</label>
                            <textarea id="experience" required></textarea>
                            <div class="error-message" id="experience-error"></div>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <h3>Marketing & Vertrieb</h3>
                        
                        <div class="question">
                            <label for="sales">7. Wie wird bei Ihnen aktuell verkauft? Persönlich, digital, hybrid?</label>
                            <textarea id="sales" required></textarea>
                            <div class="error-message" id="sales-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="content">8. Wie schreiben Sie aktuell E-Mails, Angebote, Newsletter?</label>
                            <textarea id="content" required></textarea>
                            <div class="error-message" id="content-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="feedback">9. Wie wird Kundenfeedback gesammelt und ausgewertet?</label>
                            <textarea id="feedback" required></textarea>
                            <div class="error-message" id="feedback-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="leads">10. Haben Sie ungenutzte Leads oder viele Nachfassaktionen?</label>
                            <textarea id="leads" required></textarea>
                            <div class="error-message" id="leads-error"></div>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <h3>Kundensupport / Kommunikation</h3>
                        
                        <div class="question">
                            <label for="recurring">11. Wie gehen Sie mit wiederkehrenden Kundenfragen um?</label>
                            <textarea id="recurring" required></textarea>
                            <div class="error-message" id="recurring-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="helpdesk">12. Gibt es einen Helpdesk / FAQ / Support-System?</label>
                            <textarea id="helpdesk" required></textarea>
                            <div class="error-message" id="helpdesk-error"></div>
                        </div>
                    </div>
                    
                    <div class="question-group">
                        <h3>Interne Prozesse</h3>
                        
                        <div class="question">
                            <label for="data">13. Welche Daten müssen regelmäßig ausgewertet werden?</label>
                            <textarea id="data" required></textarea>
                            <div class="error-message" id="data-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="reports">14. Gibt es standardisierte Berichte, die manuell erstellt werden?</label>
                            <textarea id="reports" required></textarea>
                            <div class="error-message" id="reports-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="knowledge">15. Wie wird Wissen im Unternehmen dokumentiert und genutzt?</label>
                            <textarea id="knowledge" required></textarea>
                            <div class="error-message" id="knowledge-error"></div>
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <button type="button" onclick="resetForm('interview-form')">Zurücksetzen</button>
                        <button type="button" onclick="submitInterview()">Interview abschließen</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div id="phase-results" class="phase-content hidden">
            <div class="card">
                <h2>Identifizierte KI-Potenziale</h2>
                <p>Basierend auf Ihren Antworten wurden folgende KI-Potenziale und Use Cases identifiziert:</p>
                
                <div id="results-content">
                    <!-- Results will be inserted here -->
                </div>
                
                <div class="buttons">
                    <button type="button" onclick="showPhase('interview')">Zurück zum Interview</button>
                    <button type="button" onclick="proceedToPlanning()">Zur Planungsphase</button>
                </div>
            </div>
        </div>
        
        <div id="phase-planning" class="phase-content hidden">
            <div class="card">
                <h2>Phase 3: Auswahl & Planung</h2>
                <p>Basierend auf den identifizierten Use Cases, planen Sie nun die konkrete Umsetzung.</p>
                
                <form id="planning-form">
                    <div class="question-group">
                        <div class="question">
                            <label for="promising">16. Welche dieser Ideen erscheint Ihnen am vielversprechendsten?</label>
                            <select id="promising" required>
                                <option value="" selected disabled>Bitte auswählen...</option>
                                <!-- Options will be filled dynamically -->
                            </select>
                            <div class="error-message" id="promising-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="result">17. Was wäre ein „sichtbares Ergebnis", das Sie in 30 Tagen erreichen wollen?</label>
                            <textarea id="result" required></textarea>
                            <div class="error-message" id="result-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="support">18. Wer könnte intern bei der Umsetzung unterstützen?</label>
                            <textarea id="support" required></textarea>
                            <div class="error-message" id="support-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="compatibility">19. Gibt es Tools oder Systeme, mit denen die Lösung kompatibel sein muss?</label>
                            <textarea id="compatibility" required></textarea>
                            <div class="error-message" id="compatibility-error"></div>
                        </div>
                        
                        <div class="question">
                            <label for="success">20. Was wäre für Sie ein erfolgreicher Abschluss des Starter-Kits?</label>
                            <textarea id="success" required></textarea>
                            <div class="error-message" id="success-error"></div>
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <button type="button" onclick="showPhase('results')">Zurück zu den Ergebnissen</button>
                        <button type="button" onclick="generateReport()">Bericht erstellen</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div id="final-report" class="phase-content hidden">
            <div class="card">
                <h2>KI Starter KIT - Abschlussbericht</h2>
                
                <div id="report-content">
                    <!-- Report will be inserted here -->
                </div>
                
                <div class="buttons">
                    <button type="button" onclick="showPhase('planning')">Zurück zur Planung</button>
                    <button type="button" onclick="downloadPDF()">Als PDF herunterladen</button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>© 2025 TYQUA - KI Starter KIT Analysetool</p>
        </footer>
    </div>
    
    <script>
        // Globals
        let currentPhase = 'interview';
        let useCases = [];
        let companyName = "";
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Tool initializing...");
            
            // Disable phases that shouldn't be accessible yet
            document.getElementById('phase-results-btn').style.opacity = '0.5';
            document.getElementById('phase-planning-btn').style.opacity = '0.5';
            
            // Show first phase
            showPhase('interview');
            
            // Set progress
            updateProgress(33);
            
            console.log("Tool initialized");
        });
        
        // Show selected phase
        function showPhase(phase) {
            console.log("Attempting to show phase:", phase);
            
            // Check if phase is accessible
            if ((phase === 'results' || phase === 'planning') && useCases.length === 0) {
                alert('Bitte schließen Sie zuerst das Interview ab.');
                return;
            }
            
            // Hide all phases
            document.querySelectorAll('.phase-content').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Show selected phase
            document.getElementById('phase-' + phase).classList.remove('hidden');
            
            // Update current phase
            currentPhase = phase;
            
            // Update progress
            if (phase === 'interview') updateProgress(33);
            if (phase === 'results') updateProgress(66);
            if (phase === 'planning') updateProgress(85);
            if (phase === 'final-report') updateProgress(100);
            
            console.log("Now showing phase:", phase);
        }
        
        // Update progress bar
        function updateProgress(percent) {
            document.getElementById('progress-bar').style.width = percent + '%';
        }
        
        // Reset form
        function resetForm(formId) {
            if (confirm('Möchten Sie wirklich alle eingegebenen Daten zurücksetzen?')) {
                document.getElementById(formId).reset();
                
                // Clear error messages
                document.querySelectorAll('.error-message').forEach(el => {
                    el.textContent = '';
                });
                
                // Reset error styling
                document.querySelectorAll('textarea, select').forEach(el => {
                    el.classList.remove('error');
                });
            }
        }
        
        // Validate a single field
        function validateField(id) {
            const field = document.getElementById(id);
            const errorElement = document.getElementById(id + '-error');
            
            if (!field.value.trim()) {
                field.classList.add('error');
                errorElement.textContent = 'Dieses Feld ist erforderlich.';
                return false;
            } else {
                field.classList.remove('error');
                errorElement.textContent = '';
                return true;
            }
        }
        
        // Submit interview
        function submitInterview() {
            console.log("Submitting interview...");
            
            // Check if form is valid
            const fieldIds = [
                'business', 'customers', 'acquisition', 'bottlenecks', 'manual', 'experience',
                'sales', 'content', 'feedback', 'leads', 'recurring', 'helpdesk',
                'data', 'reports', 'knowledge'
            ];
            
            let isValid = true;
            
            fieldIds.forEach(id => {
                if (!validateField(id)) {
                    isValid = false;
                }
            });
            
            if (!isValid) {
                alert('Bitte füllen Sie alle erforderlichen Felder aus.');
                return;
            }
            
            // Get company name
            companyName = document.getElementById('business').value.trim();
            
            // Analyze answers and generate use cases
            analyzeAnswers();
            
            // Enable results and planning phases
            document.getElementById('phase-results-btn').style.opacity = '1';
            document.getElementById('phase-planning-btn').style.opacity = '1';
            
            // Show results phase
            showPhase('results');
            
            console.log("Interview submitted successfully. Use cases generated:", useCases.length);
        }
        
        // Analyze answers and generate use cases
        function analyzeAnswers() {
            // Clear previous use cases
            useCases = [];
            
            // Get answers
            const manual = document.getElementById('manual').value.toLowerCase();
            const bottlenecks = document.getElementById('bottlenecks').value.toLowerCase();
            const content = document.getElementById('content').value.toLowerCase();
            const feedback = document.getElementById('feedback').value.toLowerCase();
            const leads = document.getElementById('leads').value.toLowerCase();
            const recurring = document.getElementById('recurring').value.toLowerCase();
            const helpdesk = document.getElementById('helpdesk').value.toLowerCase();
            const data = document.getElementById('data').value.toLowerCase();
            const reports = document.getElementById('reports').value.toLowerCase();
            const knowledge = document.getElementById('knowledge').value.toLowerCase();
            
            console.log("Analyzing answers to generate use cases...");
            
            // Check for content generation potential
            if (content.includes('manuell') || content.includes('zeit') || content.includes('aufwändig')) {
                useCases.push({
                    id: 1,
                    name: 'KI-gestützte Content-Erstellung',
                    description: 'Automatisierte Erstellung von E-Mails, Angeboten und Newslettern mit KI-Technologie',
                    potential: 'hoch',
                    effort: 'niedrig',
                    priority: 'hoch',
                    category: 'Marketing & Vertrieb'
                });
            }
            
            // Check for feedback analysis potential
            if (feedback.includes('manuell') || feedback.includes('nicht systematisch') || feedback.includes('nicht ausgewertet')) {
                useCases.push({
                    id: 2,
                    name: 'KI-basierte Kundenfeedback-Analyse',
                    description: 'Automatische Auswertung und Kategorisierung von Kundenfeedback, Erkennung von Mustern und Trends',
                    potential: 'mittel',
                    effort: 'mittel',
                    priority: 'mittel',
                    category: 'Marketing & Vertrieb'
                });
            }
            
            // Check for lead management potential
            if (leads.includes('ja') || leads.includes('ungenutzt') || leads.includes('viele')) {
                useCases.push({
                    id: 3,
                    name: 'Intelligentes Lead Management',
                    description: 'KI-gestützte Priorisierung und Nachverfolgung von Leads, automatisierte Follow-ups',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    category: 'Marketing & Vertrieb'
                });
            }
            
            // Check for customer support automation potential
            if (recurring.includes('manuell') || recurring.includes('wiederhol') || recurring.includes('standard')) {
                useCases.push({
                    id: 4,
                    name: 'Automatisierter Kundensupport',
                    description: 'KI-Chatbot zur Beantwortung wiederkehrender Kundenanfragen, intelligente Routing-Systeme',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    category: 'Kundensupport'
                });
            }
            
            // Check for knowledge management potential
            if (knowledge.includes('manuell') || knowledge.includes('dokument') || knowledge.includes('nicht zentral')) {
                useCases.push({
                    id: 5,
                    name: 'KI-gestütztes Wissensmanagement',
                    description: 'Intelligente Wissensbank, automatische Dokumentation und Kategorisierung von Informationen',
                    potential: 'mittel',
                    effort: 'hoch',
                    priority: 'mittel',
                    category: 'Interne Prozesse'
                });
            }
            
            // Check for data analysis potential
            if (data.includes('regelmäßig') || data.includes('viel') || data.includes('zeit')) {
                useCases.push({
                    id: 6,
                    name: 'KI-gestützte Datenanalyse',
                    description: 'Automatische Analyse und Visualisierung von Daten, Erkennung von Mustern und Trends',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    category: 'Interne Prozesse'
                });
            }
            
            // Check for report automation potential
            if (reports.includes('ja') || reports.includes('manuell') || reports.includes('viel')) {
                useCases.push({
                    id: 7,
                    name: 'Automatisierte Berichtserstellung',
                    description: 'KI-gestützte Generierung von standardisierten Berichten, automatische Datenaufbereitung',
                    potential: 'mittel',
                    effort: 'niedrig',
                    priority: 'hoch',
                    category: 'Interne Prozesse'
                });
            }
            
            // Add a general process automation use case based on manual processes
            if (manual.includes('viele') || manual.includes('mehrere') || manual.includes('zeitintensiv')) {
                useCases.push({
                    id: 8,
                    name: 'Prozessautomatisierung mit KI',
                    description: 'Identifikation und Automatisierung wiederkehrender Prozesse mit Hilfe von KI',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    category: 'Interne Prozesse'
                });
            }
            
            // If no use cases were identified, add generic ones
            if (useCases.length === 0) {
                useCases.push({
                    id: 9,
                    name: 'KI-gestützte Prozessoptimierung',
                    description: 'Identifikation und Optimierung von Geschäftsprozessen mit Hilfe von KI-Analyse',
                    potential: 'mittel',
                    effort: 'mittel',
                    priority: 'mittel',
                    category: 'Interne Prozesse'
                });
                
                useCases.push({
                    id: 10,
                    name: 'Intelligente Dokumentenverarbeitung',
                    description: 'Automatische Extraktion von Informationen aus Dokumenten mit KI',
                    potential: 'hoch',
                    effort: 'niedrig',
                    priority: 'hoch',
                    category: 'Interne Prozesse'
                });
            }
            
            // Generate results HTML
            generateResults();
            
            console.log("Use cases generated:", useCases);
        }
        
        // Generate results HTML
        function generateResults() {
            const resultsContainer = document.getElementById('results-content');
            let html = '';
            
            // Group use cases by category
            const categories = {};
            useCases.forEach(useCase => {
                if (!categories[useCase.category]) {
                    categories[useCase.category] = [];
                }
                categories[useCase.category].push(useCase);
            });
            
            // Generate HTML for each category
            for (const category in categories) {
                html += `<div class="result-card">
                            <h3>${category}</h3>`;
                
                categories[category].forEach(useCase => {
                    html += `<div class="use-case">
                                <h4>${useCase.name}</h4>
                                <p>${useCase.description}</p>
                                <div class="rating">
                                    <span>Potenzial: ${useCase.potential}</span>
                                    <span>Aufwand: ${useCase.effort}</span>
                                    <span>Priorität: ${useCase.priority}</span>
                                </div>
                            </div>`;
                });
                
                html += `</div>`;
            }
            
            // Add summary table
            html += `<h3>Übersicht der identifizierten Use Cases</h3>
                    <table>
                        <tr>
                            <th>Use Case</th>
                            <th>Kategorie</th>
                            <th>Potenzial</th>
                            <th>Aufwand</th>
                            <th>Priorität</th>
                        </tr>`;
            
            useCases.forEach(useCase => {
                html += `<tr>
                            <td>${useCase.name}</td>
                            <td>${useCase.category}</td>
                            <td>${useCase.potential}</td>
                            <td>${useCase.effort}</td>
                            <td>${useCase.priority}</td>
                        </tr>`;
            });
            
            html += `</table>`;
            
            // Add recommendation
            html += `<div class="result-card">
                        <h3>Empfehlung</h3>
                        <p>Basierend auf Ihren Antworten empfehlen wir, mit dem Use Case "${useCases[0].name}" zu beginnen.</p>
                        <p>Dieser Use Case bietet ein ausgewogenes Verhältnis zwischen Potenzial und Aufwand und kann als Einstieg in Ihre KI-Journey dienen.</p>
                    </div>`;
            
            // Update results container
            resultsContainer.innerHTML = html;
            
            console.log("Results generated and displayed");
        }
        
        // Proceed to planning phase
        function proceedToPlanning() {
            console.log("Proceeding to planning phase...");
            
            // Populate use case dropdown
            populateUseCaseDropdown();
            
            // Show planning phase
            showPhase('planning');
            
            console.log("Planning phase initialized");
        }
        
        // Populate use case dropdown
        function populateUseCaseDropdown() {
            const dropdown = document.getElementById('promising');
            
            console.log("Populating use case dropdown with", useCases.length, "options");
            
            // Clear options
            dropdown.innerHTML = '<option value="" selected disabled>Bitte auswählen...</option>';
            
            // Add use cases
            useCases.forEach(useCase => {
                const option = document.createElement('option');
                option.value = useCase.id;
                option.textContent = useCase.name;
                dropdown.appendChild(option);
            });
            
            console.log("Dropdown populated successfully");
        }
        
        // Generate final report
        function generateReport() {
            console.log("Generating final report...");
            
            // Check if form is valid
            const fieldIds = ['promising', 'result', 'support', 'compatibility', 'success'];
            let isValid = true;
            
            fieldIds.forEach(id => {
                if (!validateField(id)) {
                    isValid = false;
                }
            });
            
            if (!isValid) {
                alert('Bitte füllen Sie alle erforderlichen Felder aus.');
                return;
            }
            
            // Get selected use case
            const useCaseId = parseInt(document.getElementById('promising').value);
            const selectedUseCase = useCases.find(uc => uc.id === parseInt(useCaseId));
            
            if (!selectedUseCase) {
                console.error("Selected use case not found. ID:", useCaseId, "Available use cases:", useCases);
                alert('Fehler beim Abrufen des ausgewählten Use Cases. Bitte versuchen Sie es erneut.');
                return;
            }
            
            console.log("Selected use case:", selectedUseCase);
            
            // Get answers
            const result = document.getElementById('result').value;
            const support = document.getElementById('support').value;
            const compatibility = document.getElementById('compatibility').value;
            const success = document.getElementById('success').value;
            
            // Generate report
            const reportContainer = document.getElementById('report-content');
            let html = '';
            
            // Company info
            html += `<div class="result-card">
                        <h3>Unternehmensprofil</h3>
                        <p><strong>Unternehmen:</strong> ${companyName}</p>
                        <p><strong>Erstellt am:</strong> ${new Date().toLocaleDateString('de-DE')}</p>
                    </div>`;
            
            // Selected use case
            html += `<div class="result-card">
                        <h3>Ausgewählter Use Case</h3>
                        <h4>${selectedUseCase.name}</h4>
                        <p>${selectedUseCase.description}</p>
                        <div class="rating">
                            <span>Potenzial: ${selectedUseCase.potential}</span>
                            <span>Aufwand: ${selectedUseCase.effort}</span>
                            <span>Priorität: ${selectedUseCase.priority}</span>
                        </div>
                    </div>`;
            
            // Implementation plan
            html += `<div class="result-card">
                        <h3>Umsetzungsplan</h3>
                        <p><strong>30-Tage-Ziel:</strong> ${result}</p>
                        <p><strong>Interne Unterstützung:</strong> ${support}</p>
                        <p><strong>Systemkompatibilität:</strong> ${compatibility}</p>
                        <p><strong>Erfolgskriterien:</strong> ${success}</p>
                    </div>`;
            
            // Next steps
            html += `<div class="result-card">
                        <h3>Nächste Schritte</h3>
                        <ol>
                            <li>Projekt-Kickoff mit allen Beteiligten</li>
                            <li>Detaillierte Anforderungsanalyse</li>
                            <li>Auswahl der passenden KI-Technologie</li>
                            <li>Entwicklung eines Prototyps</li>
                            <li>Testphase und Anpassung</li>
                            <li>Einführung und Training</li>
                        </ol>
                    </div>`;
            
            // Timeline
            html += `<div class="result-card">
                        <h3>Zeitplan</h3>
                        <table>
                            <tr>
                                <th>Woche</th>
                                <th>Aktivität</th>
                            </tr>
                            <tr>
                                <td>Woche 1</td>
                                <td>Kickoff und Anforderungsanalyse</td>
                            </tr>
                            <tr>
                                <td>Woche 2</td>
                                <td>Technologie-Auswahl und Konzeption</td>
                            </tr>
                            <tr>
                                <td>Woche 3</td>
                                <td>Prototyp-Entwicklung</td>
                            </tr>
                            <tr>
                                <td>Woche 4</td>
                                <td>Test und Anpassung</td>
                            </tr>
                            <tr>
                                <td>Tag 30</td>
                                <td>Präsentation des Ergebnisses</td>
                            </tr>
                        </table>
                    </div>`;
            
            // Update report container
            reportContainer.innerHTML = html;
            
            // Show report
            showPhase('final-report');
            
            console.log("Final report generated and displayed");
        }
        
        // Download PDF function
        function downloadPDF() {
            console.log("Preparing PDF download...");
            
            // Get report content
            const reportContent = document.getElementById('report-content').innerHTML;
            
            // Create HTML content for PDF
            const html = `<!DOCTYPE html>
                <html>
                <head>
                    <title>TYQUA KI Starter KIT - Bericht</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            line-height: 1.6;
                            color: #333;
                            max-width: 800px;
                            margin: 0 auto;
                            padding: 20px;
                        }
                        h1, h2, h3, h4 {
                            color: #20B2AA;
                        }
                        .header {
                            text-align: center;
                            margin-bottom: 30px;
                            padding: 20px;
                            background-color: #000000;
                            color: #4DD0E1;
                        }
                        .header h1 {
                            color: #4DD0E1;
                        }
                        .logo {
                            font-size: 40px;
                            font-weight: bold;
                            color: #4DD0E1;
                            margin-bottom: 15px;
                        }
                        .result-card {
                            margin: 20px 0;
                            padding: 15px;
                            border-left: 5px solid #20B2AA;
                            background: #f9f9f9;
                        }
                        table {
                            width: 100%;
                            border-collapse: collapse;
                            margin: 15px 0;
                        }
                        th, td {
                            padding: 8px;
                            text-align: left;
                            border-bottom: 1px solid #ddd;
                        }
                        th {
                            background-color: #f2f2f2;
                        }
                        .rating span {
                            display: inline-block;
                            background: #4DD0E1;
                            color: white;
                            padding: 3px 8px;
                            border-radius: 12px;
                            font-size: 14px;
                            margin-right: 10px;
                            margin-top: 5px;
                        }
                        footer {
                            margin-top: 40px;
                            border-top: 1px solid #ddd;
                            padding-top: 20px;
                            text-align: center;
                            font-size: 14px;
                            color: #777;
                        }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div class="logo">TYQUA</div>
                        <h1>KI Starter KIT - Analysebericht</h1>
                    </div>
                    ${reportContent}
                    <footer>
                        <p>© 2025 TYQUA - KI Starter KIT Analysetool</p>
                        <p>Erstellt am ${new Date().toLocaleDateString('de-DE')}</p>
                    </footer>
                </body>
                </html>`;
            
            // Create blob
            const blob = new Blob([html], { type: 'text/html' });
            
            // Create download link
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `TYQUA_KI_Starter_KIT_Bericht_${new Date().toISOString().slice(0,10)}.html`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert('Der Bericht wurde erfolgreich als HTML heruntergeladen. Sie können ihn in Ihrem Browser öffnen und über die Druckfunktion (Strg+P / Cmd+P) als PDF speichern.');
            
            console.log("PDF download completed");
        }
    </script>
</body>
</html>
