<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYQUA KI Starter KIT - Analysetool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header mit TYQUA Logo */
        .header {
            background: #000;
            color: #00FFFF;
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .tyqua-logo {
            font-size: 48px;
            font-weight: bold;
            color: #00FFFF;
            text-shadow: 0 0 20px rgba(0,255,255,0.5);
            margin-bottom: 15px;
            letter-spacing: 3px;
        }
        
        .header h1 {
            color: #00FFFF;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #00BFBF;
            font-size: 16px;
        }
        
        /* Phase Navigation */
        .phase-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .phase-btn {
            background: linear-gradient(45deg, #00FFFF, #00BFBF);
            color: #000;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 200px;
            position: relative;
            overflow: hidden;
        }
        
        .phase-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,255,255,0.3);
        }
        
        .phase-btn.disabled {
            background: #ccc;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .phase-btn.active {
            background: linear-gradient(45deg, #00BFBF, #008B8B);
            color: white;
        }
        
        /* Progress Bar */
        .progress-container {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #00FFFF, #00BFBF);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, .2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, .2) 50%,
                rgba(255, 255, 255, .2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 50px 50px;
            animation: move 2s linear infinite;
        }
        
        @keyframes move {
            0% { background-position: 0 0; }
            100% { background-position: 50px 50px; }
        }
        
        /* Cards */
        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        
        .card.active {
            border-color: #00FFFF;
            box-shadow: 0 0 30px rgba(0,255,255,0.3);
        }
        
        .card h2 {
            color: #00BFBF;
            margin-bottom: 20px;
            font-size: 24px;
            text-align: center;
        }
        
        .card h3 {
            color: #008B8B;
            margin: 20px 0 15px;
            font-size: 18px;
            border-bottom: 2px solid #00FFFF;
            padding-bottom: 5px;
        }
        
        /* Form Elements */
        .question {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #00FFFF;
        }
        
        .question label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .question textarea,
        .question select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            resize: vertical;
            min-height: 80px;
        }
        
        .question textarea:focus,
        .question select:focus {
            outline: none;
            border-color: #00FFFF;
            box-shadow: 0 0 10px rgba(0,255,255,0.2);
        }
        
        .question.error textarea,
        .question.error select {
            border-color: #ff4757;
            background-color: #fff5f5;
        }
        
        .error-msg {
            color: #ff4757;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .question.error .error-msg {
            display: block;
        }
        
        /* Buttons */
        .btn {
            background: linear-gradient(45deg, #00FFFF, #00BFBF);
            color: #000;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,255,255,0.3);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            box-shadow: 0 5px 15px rgba(108,117,125,0.3);
        }
        
        .btn-group {
            text-align: center;
            margin: 30px 0;
        }
        
        /* Results */
        .use-case {
            background: linear-gradient(135deg, #e3f8ff 0%, #b3ecff 100%);
            border: 2px solid #00BFBF;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .use-case h4 {
            color: #006666;
            margin-bottom: 10px;
        }
        
        .use-case p {
            color: #333;
            margin-bottom: 10px;
        }
        
        .rating {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .rating-badge {
            background: #00FFFF;
            color: #000;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .rating-badge.high { background: #00ff00; }
        .rating-badge.medium { background: #ffff00; color: #000; }
        .rating-badge.low { background: #ff6b6b; color: white; }
        
        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        th {
            background: linear-gradient(45deg, #00FFFF, #00BFBF);
            color: #000;
            font-weight: bold;
        }
        
        /* Phase Content */
        .phase-content {
            display: none;
        }
        
        .phase-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .tyqua-logo {
                font-size: 36px;
            }
            
            .phase-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .phase-btn {
                min-width: 250px;
            }
            
            .btn-group {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                margin: 5px 0;
            }
            
            .rating {
                flex-direction: column;
            }
        }
        
        /* Success Animation */
        .success-animation {
            text-align: center;
            padding: 20px;
        }
        
        .checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: block;
            stroke-width: 2;
            stroke: #00FFFF;
            stroke-miterlimit: 10;
            margin: 10px auto;
            box-shadow: inset 0px 0px 0px #00FFFF;
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        }
        
        .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 2;
            stroke-miterlimit: 10;
            stroke: #00FFFF;
            fill: none;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }
        
        .checkmark__check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }
        
        @keyframes stroke {
            100% {
                stroke-dashoffset: 0;
            }
        }
        
        @keyframes scale {
            0%, 100% {
                transform: none;
            }
            50% {
                transform: scale3d(1.1, 1.1, 1);
            }
        }
        
        @keyframes fill {
            100% {
                box-shadow: inset 0px 0px 0px 30px #00FFFF;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="tyqua-logo">TYQUA</div>
            <h1>KI Starter KIT - Analysetool</h1>
            <p>Systematische Identifikation und Planung von KI-Use-Cases f√ºr Ihr Unternehmen</p>
        </div>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <!-- Phase Navigation -->
        <div class="phase-nav">
            <button class="phase-btn active" id="btnPhase1" onclick="showPhase(1)">
                üìã Phase 1+2: Interview
            </button>
            <button class="phase-btn disabled" id="btnPhase2" onclick="showPhase(2)">
                üìä Zwischenergebnisse
            </button>
            <button class="phase-btn disabled" id="btnPhase3" onclick="showPhase(3)">
                üéØ Phase 3: Planung
            </button>
            <button class="phase-btn disabled" id="btnPhase4" onclick="showPhase(4)">
                üìÑ Abschlussbericht
            </button>
        </div>
        
        <!-- Phase 1: Interview -->
        <div id="phase1" class="phase-content active">
            <div class="card active">
                <h2>Phase 1 + 2: Interview & KI-Potenziale</h2>
                <p style="text-align: center; margin-bottom: 30px;">Beantworten Sie die folgenden Fragen, um Ihr Unternehmen und potenzielle KI-Anwendungsf√§lle zu identifizieren.</p>
                
                <form id="interviewForm">
                    <h3>üìà Kontext & Verst√§ndnis</h3>
                    
                    <div class="question" id="q1">
                        <label for="business">1. Was genau bietet Ihr Unternehmen an ‚Äì in einem Satz?</label>
                        <textarea id="business" name="business" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihr Unternehmen.</div>
                    </div>
                    
                    <div class="question" id="q2">
                        <label for="customers">2. Wer sind Ihre typischen Kunden?</label>
                        <textarea id="customers" name="customers" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Zielgruppe.</div>
                    </div>
                    
                    <div class="question" id="q3">
                        <label for="acquisition">3. Wie gewinnen Sie aktuell neue Kunden?</label>
                        <textarea id="acquisition" name="acquisition" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Kundenakquise.</div>
                    </div>
                    
                    <div class="question" id="q4">
                        <label for="bottlenecks">4. Was sind aktuell Ihre gr√∂√üten operativen Engp√§sse?</label>
                        <textarea id="bottlenecks" name="bottlenecks" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Herausforderungen.</div>
                    </div>
                    
                    <div class="question" id="q5">
                        <label for="manual">5. Welche Prozesse laufen noch manuell oder sind besonders zeitintensiv?</label>
                        <textarea id="manual" name="manual" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie manuelle Prozesse.</div>
                    </div>
                    
                    <div class="question" id="q6">
                        <label for="experience">6. Haben Sie schon mit Automatisierung, KI oder Tools experimentiert?</label>
                        <textarea id="experience" name="experience" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Erfahrungen.</div>
                    </div>
                    
                    <h3>üéØ Marketing & Vertrieb</h3>
                    
                    <div class="question" id="q7">
                        <label for="sales">7. Wie wird bei Ihnen aktuell verkauft? Pers√∂nlich, digital, hybrid?</label>
                        <textarea id="sales" name="sales" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihren Verkaufsprozess.</div>
                    </div>
                    
                    <div class="question" id="q8">
                        <label for="content">8. Wie schreiben Sie aktuell E-Mails, Angebote, Newsletter?</label>
                        <textarea id="content" name="content" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Content-Erstellung.</div>
                    </div>
                    
                    <div class="question" id="q9">
                        <label for="feedback">9. Wie wird Kundenfeedback gesammelt und ausgewertet?</label>
                        <textarea id="feedback" name="feedback" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihr Feedback-Management.</div>
                    </div>
                    
                    <div class="question" id="q10">
                        <label for="leads">10. Haben Sie ungenutzte Leads oder viele Nachfassaktionen?</label>
                        <textarea id="leads" name="leads" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihr Lead-Management.</div>
                    </div>
                    
                    <h3>üéß Kundensupport / Kommunikation</h3>
                    
                    <div class="question" id="q11">
                        <label for="recurring">11. Wie gehen Sie mit wiederkehrenden Kundenfragen um?</label>
                        <textarea id="recurring" name="recurring" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihren Support-Prozess.</div>
                    </div>
                    
                    <div class="question" id="q12">
                        <label for="helpdesk">12. Gibt es einen Helpdesk / FAQ / Support-System?</label>
                        <textarea id="helpdesk" name="helpdesk" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Support-Systeme.</div>
                    </div>
                    
                    <h3>‚öôÔ∏è Interne Prozesse</h3>
                    
                    <div class="question" id="q13">
                        <label for="data">13. Welche Daten m√ºssen regelm√§√üig ausgewertet werden?</label>
                        <textarea id="data" name="data" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Datenanalyse.</div>
                    </div>
                    
                    <div class="question" id="q14">
                        <label for="reports">14. Gibt es standardisierte Berichte, die manuell erstellt werden?</label>
                        <textarea id="reports" name="reports" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihre Berichterstattung.</div>
                    </div>
                    
                    <div class="question" id="q15">
                        <label for="knowledge">15. Wie wird Wissen im Unternehmen dokumentiert und genutzt?</label>
                        <textarea id="knowledge" name="knowledge" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihr Wissensmanagement.</div>
                    </div>
                    
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary" onclick="resetInterview()">üîÑ Zur√ºcksetzen</button>
                        <button type="button" class="btn" onclick="submitInterview()">‚úÖ Interview abschlie√üen</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Phase 2: Results -->
        <div id="phase2" class="phase-content">
            <div class="card active">
                <h2>üìä Identifizierte KI-Potenziale</h2>
                <div id="resultsContent">
                    <!-- Results will be inserted here -->
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="showPhase(1)">‚Üê Zur√ºck zum Interview</button>
                    <button type="button" class="btn" onclick="showPhase(3)">Zur Planungsphase ‚Üí</button>
                </div>
            </div>
        </div>
        
        <!-- Phase 3: Planning -->
        <div id="phase3" class="phase-content">
            <div class="card active">
                <h2>üéØ Phase 3: Auswahl & Planung</h2>
                <p style="text-align: center; margin-bottom: 30px;">Basierend auf den identifizierten Use Cases, planen Sie nun die konkrete Umsetzung.</p>
                
                <form id="planningForm">
                    <div class="question" id="q16">
                        <label for="promising">16. Welche dieser Ideen erscheint Ihnen am vielversprechendsten?</label>
                        <select id="promising" name="promising" required>
                            <option value="">Bitte ausw√§hlen...</option>
                            <!-- Options will be populated dynamically -->
                        </select>
                        <div class="error-msg">Bitte w√§hlen Sie einen Use Case aus.</div>
                    </div>
                    
                    <div class="question" id="q17">
                        <label for="result">17. Was w√§re ein ‚Äûsichtbares Ergebnis", das Sie in 30 Tagen erreichen wollen?</label>
                        <textarea id="result" name="result" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie Ihr 30-Tage-Ziel.</div>
                    </div>
                    
                    <div class="question" id="q18">
                        <label for="support">18. Wer k√∂nnte intern bei der Umsetzung unterst√ºtzen?</label>
                        <textarea id="support" name="support" required></textarea>
                        <div class="error-msg">Bitte nennen Sie interne Unterst√ºtzer.</div>
                    </div>
                    
                    <div class="question" id="q19">
                        <label for="compatibility">19. Gibt es Tools oder Systeme, mit denen die L√∂sung kompatibel sein muss?</label>
                        <textarea id="compatibility" name="compatibility" required></textarea>
                        <div class="error-msg">Bitte beschreiben Sie System-Anforderungen.</div>
                    </div>
                    
                    <div class="question" id="q20">
                        <label for="success">20. Was w√§re f√ºr Sie ein erfolgreicher Abschluss des Starter-Kits?</label>
                        <textarea id="success" name="success" required></textarea>
                        <div class="error-msg">Bitte definieren Sie Erfolgskriterien.</div>
                    </div>
                    
                    <div class="btn-group">
                        <button type="button" class="btn btn-secondary" onclick="showPhase(2)">‚Üê Zur√ºck zu den Ergebnissen</button>
                        <button type="button" class="btn" onclick="generateFinalReport()">üìÑ Abschlussbericht erstellen</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Phase 4: Final Report -->
        <div id="phase4" class="phase-content">
            <div class="card active">
                <h2>üìÑ KI Starter KIT - Abschlussbericht</h2>
                <div id="finalReportContent">
                    <!-- Final report will be inserted here -->
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="showPhase(3)">‚Üê Zur√ºck zur Planung</button>
                    <button type="button" class="btn" onclick="downloadReport()">üíæ Bericht herunterladen</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentPhase = 1;
        let interviewData = {};
        let useCases = [];
        let selectedUseCase = null;
        let planningData = {};
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('TYQUA KI Analysetool started');
            updateProgress(25);
        });
        
        // Show specific phase
        function showPhase(phase) {
            // Validate phase access
            if (phase > currentPhase + 1) {
                alert('Bitte schlie√üen Sie die vorherigen Phasen ab.');
                return;
            }
            
            // Hide all phases
            document.querySelectorAll('.phase-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.phase-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected phase
            document.getElementById('phase' + phase).classList.add('active');
            document.getElementById('btnPhase' + phase).classList.add('active');
            
            // Update progress
            const progressValues = [0, 25, 50, 75, 100];
            updateProgress(progressValues[phase] || 0);
            
            console.log('Showing phase:', phase);
        }
        
        // Update progress bar
        function updateProgress(percentage) {
            document.getElementById('progressBar').style.width = percentage + '%';
        }
        
        // Reset interview form
        function resetInterview() {
            if (confirm('M√∂chten Sie wirklich alle Eingaben zur√ºcksetzen?')) {
                document.getElementById('interviewForm').reset();
                document.querySelectorAll('.question').forEach(q => q.classList.remove('error'));
                interviewData = {};
                console.log('Interview form reset');
            }
        }
        
        // Validate form fields
        function validateForm(formId) {
            const form = document.getElementById(formId);
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;
            
            requiredFields.forEach(field => {
                const question = field.closest('.question');
                if (!field.value.trim()) {
                    question.classList.add('error');
                    isValid = false;
                } else {
                    question.classList.remove('error');
                }
            });
            
            return isValid;
        }
        
        // Submit interview
        function submitInterview() {
            console.log('Submitting interview...');
            
            if (!validateForm('interviewForm')) {
                alert('Bitte f√ºllen Sie alle erforderlichen Felder aus.');
                return;
            }
            
            // Collect form data
            const form = document.getElementById('interviewForm');
            const formData = new FormData(form);
            
            interviewData = {};
            for (let [key, value] of formData.entries()) {
                interviewData[key] = value.trim();
            }
            
            console.log('Interview data collected:', interviewData);
            
            // Analyze answers and generate use cases
            generateUseCases();
            
            // Enable next phases
            currentPhase = Math.max(currentPhase, 2);
            document.getElementById('btnPhase2').classList.remove('disabled');
            document.getElementById('btnPhase3').classList.remove('disabled');
            
            // Show results
            showPhase(2);
            
            console.log('Interview submitted successfully');
        }
        
        // Generate use cases based on interview answers
        function generateUseCases() {
            useCases = [];
            
            const answers = interviewData;
            
            // Content Creation Use Case
            if (answers.content && (answers.content.includes('manuell') || answers.content.includes('zeit') || answers.content.includes('aufw√§ndig'))) {
                useCases.push({
                    id: 'content-ai',
                    name: 'ü§ñ KI-gest√ºtzte Content-Erstellung',
                    description: 'Automatisierte Erstellung von E-Mails, Angeboten und Newslettern mit KI-Technologie.',
                    category: 'Marketing & Vertrieb',
                    potential: 'hoch',
                    effort: 'niedrig',
                    priority: 'hoch',
                    benefits: ['Zeitersparnis bis zu 70%', 'Konsistente Qualit√§t', 'Schnellere Marktreaktion'],
                    implementation: '2-4 Wochen'
                });
            }
            
            // Lead Management Use Case
            if (answers.leads && (answers.leads.includes('ja') || answers.leads.includes('ungenutzt') || answers.leads.includes('viele'))) {
                useCases.push({
                    id: 'lead-ai',
                    name: 'üéØ Intelligentes Lead Management',
                    description: 'KI-gest√ºtzte Priorisierung und Nachverfolgung von Leads mit automatisierten Follow-ups.',
                    category: 'Marketing & Vertrieb',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    benefits: ['Erh√∂hte Conversion-Rate', 'Automatisierte Nachverfolgung', 'Bessere Lead-Qualifizierung'],
                    implementation: '3-6 Wochen'
                });
            }
            
            // Customer Support Use Case
            if (answers.recurring && (answers.recurring.includes('manuell') || answers.recurring.includes('wiederhol') || answers.recurring.includes('h√§ufig'))) {
                useCases.push({
                    id: 'support-ai',
                    name: 'üéß Automatisierter Kundensupport',
                    description: 'KI-Chatbot zur Beantwortung wiederkehrender Kundenanfragen und intelligentes Ticket-Routing.',
                    category: 'Kundensupport',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'hoch',
                    benefits: ['24/7 Verf√ºgbarkeit', 'Sofortige Antworten', 'Entlastung des Support-Teams'],
                    implementation: '4-8 Wochen'
                });
            }
            
            // Data Analysis Use Case
            if (answers.data && (answers.data.includes('regelm√§√üig') || answers.data.includes('viel') || answers.data.includes('komplex'))) {
                useCases.push({
                    id: 'data-ai',
                    name: 'üìä KI-gest√ºtzte Datenanalyse',
                    description: 'Automatische Analyse und Visualisierung von Daten mit Erkennung von Mustern und Trends.',
                    category: 'Interne Prozesse',
                    potential: 'hoch',
                    effort: 'mittel',
                    priority: 'mittel',
                    benefits: ['Datenbasierte Entscheidungen', 'Automatische Insights', 'Predictive Analytics'],
                    implementation: '6-12 Wochen'
                });
            }
            
            // Report Automation Use Case
            if (answers.reports && (answers.reports.includes('ja') || answers.reports.includes('manuell') || answers.reports.includes('zeit'))) {
                useCases.push({
                    id: 'report-ai',
                    name: 'üìà Automatisierte Berichtserstellung',
                    description: 'KI-gest√ºtzte Generierung von Berichten mit automatischer Datenaufbereitung und -interpretation.',
                    category: 'Interne Prozesse',
                    potential: 'mittel',
                    effort: 'niedrig',
                    priority: 'hoch',
                    benefits: ['Zeitersparnis bei Berichten', 'Konsistente Formatierung', 'Automatische Updates'],
                    implementation: '2-4 Wochen'
                });
            }
            
            // Process Automation Use Case
            if (answers.manual && (answers.manual.includes('viele') || answers.manual.includes('zeitintensiv') || answers.manual.includes('wiederhol'))) {
                useCases.push({
                    id: 'process-ai',
                    name: '‚öôÔ∏è Intelligente Prozessautomatisierung',
                    description: 'KI-basierte Automatisierung wiederkehrender Gesch√§ftsprozesse und Workflows.',
                    category: 'Interne Prozesse',
                    potential: 'hoch',
                    effort: 'hoch',
                    priority: 'mittel',
                    benefits: ['Operative Effizienz', 'Fehlerreduktion', 'Kosteneinsparungen'],
                    implementation: '8-16 Wochen'
                });
            }
            
            // Knowledge Management Use Case
            if (answers.knowledge && (answers.knowledge.includes('dezentral') || answers.knowledge.includes('nicht strukturiert') || answers.knowledge.includes('schwer findbar'))) {
                useCases.push({
                    id: 'knowledge-ai',
                    name: 'üß† KI-gest√ºtztes Wissensmanagement',
                    description: 'Intelligente Wissensbank mit automatischer Kategorisierung und semantischer Suche.',
                    category: 'Interne Prozesse',
                    potential: 'mittel',
                    effort: 'hoch',
                    priority: 'niedrig',
                    benefits: ['Besserer Wissenstransfer', 'Schnellere Informationssuche', 'Zentrale Wissensbasis'],
                    implementation: '12-20 Wochen'
                });
            }
            
            // Ensure we have at least some use cases
            if (useCases.length === 0) {
                useCases.push({
                    id: 'general-ai',
                    name: 'üöÄ Allgemeine KI-Integration',
                    description: 'Identifikation und Implementierung von KI-L√∂sungen basierend auf spezifischen Gesch√§ftsanforderungen.',
                    category: 'Allgemein',
                    potential: 'mittel',
                    effort: 'mittel',
                    priority: 'mittel',
                    benefits: ['Digitale Transformation', 'Wettbewerbsvorteile', 'Zukunftsf√§higkeit'],
                    implementation: '6-12 Wochen'
                });
            }
            
            // Sort by priority
            const priorityOrder = { 'hoch': 3, 'mittel': 2, 'niedrig': 1 };
            useCases.sort((a, b) => priorityOrder[b.priority] - priorityOrder[a.priority]);
            
            console.log('Generated use cases:', useCases);
            displayResults();
        }
        
        // Display results
        function displayResults() {
            const container = document.getElementById('resultsContent');
            let html = '';
            
            html += '<div class="success-animation">';
            html += '<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">';
            html += '<circle class="checkmark__circle" fill="none" stroke="#00FFFF" stroke-width="2" stroke-miterlimit="10" cx="26" cy="26" r="25"/>';
            html += '<path class="checkmark__check" fill="none" stroke="#00FFFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>';
            html += '</svg>';
            html += '<h3 style="color: #00BFBF; margin-top: 20px;">Analyse abgeschlossen!</h3>';
            html += '<p>Basierend auf Ihren Antworten haben wir folgende KI-Potenziale identifiziert:</p>';
            html += '</div>';
            
            // Group by category
            const categories = {};
            useCases.forEach(useCase => {
                if (!categories[useCase.category]) {
                    categories[useCase.category] = [];
                }
                categories[useCase.category].push(useCase);
            });
            
            // Display use cases by category
            Object.keys(categories).forEach(category => {
                html += `<h3>${category}</h3>`;
                categories[category].forEach(useCase => {
                    html += `<div class="use-case">`;
                    html += `<h4>${useCase.name}</h4>`;
                    html += `<p>${useCase.description}</p>`;
                    html += `<div class="rating">`;
                    html += `<span class="rating-badge ${useCase.potential}">Potenzial: ${useCase.potential}</span>`;
                    html += `<span class="rating-badge ${useCase.effort}">Aufwand: ${useCase.effort}</span>`;
                    html += `<span class="rating-badge ${useCase.priority}">Priorit√§t: ${useCase.priority}</span>`;
                    html += `</div>`;
                    html += `<p><strong>Implementierungszeit:</strong> ${useCase.implementation}</p>`;
                    html += `<p><strong>Vorteile:</strong> ${useCase.benefits.join(', ')}</p>`;
                    html += `</div>`;
                });
            });
            
            // Summary table
            html += '<h3>üìã Zusammenfassung aller Use Cases</h3>';
            html += '<table>';
            html += '<thead><tr><th>Use Case</th><th>Kategorie</th><th>Potenzial</th><th>Aufwand</th><th>Priorit√§t</th><th>Zeitrahmen</th></tr></thead>';
            html += '<tbody>';
            useCases.forEach(useCase => {
                html += `<tr>`;
                html += `<td>${useCase.name}</td>`;
                html += `<td>${useCase.category}</td>`;
                html += `<td><span class="rating-badge ${useCase.potential}">${useCase.potential}</span></td>`;
                html += `<td><span class="rating-badge ${useCase.effort}">${useCase.effort}</span></td>`;
                html += `<td><span class="rating-badge ${useCase.priority}">${useCase.priority}</span></td>`;
                html += `<td>${useCase.implementation}</td>`;
                html += `</tr>`;
            });
            html += '</tbody></table>';
            
            // Recommendation
            if (useCases.length > 0) {
                const topUseCase = useCases[0];
                html += '<div style="background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c8 100%); padding: 20px; border-radius: 10px; border: 2px solid #00cc00; margin: 20px 0;">';
                html += '<h3 style="color: #006600;">üèÜ Unsere Empfehlung</h3>';
                html += `<p>Basierend auf Ihrer Analyse empfehlen wir, mit <strong>"${topUseCase.name}"</strong> zu beginnen.</p>`;
                html += '<p>Dieser Use Case bietet das beste Verh√§ltnis zwischen Potenzial, Aufwand und schnellen Ergebnissen.</p>';
                html += '</div>';
            }
            
            container.innerHTML = html;
            
            // Populate planning form dropdown
            populatePlanningDropdown();
        }
        
        // Populate planning dropdown
        function populatePlanningDropdown() {
            const select = document.getElementById('promising');
            select.innerHTML = '<option value="">Bitte ausw√§hlen...</option>';
            
            useCases.forEach(useCase => {
                const option = document.createElement('option');
                option.value = useCase.id;
                option.textContent = useCase.name;
                select.appendChild(option);
            });
        }
        
        // Generate final report
        function generateFinalReport() {
            console.log('Generating final report...');
            
            if (!validateForm('planningForm')) {
                alert('Bitte f√ºllen Sie alle erforderlichen Felder aus.');
                return;
            }
            
            // Collect planning data
            const form = document.getElementById('planningForm');
            const formData = new FormData(form);
            
            planningData = {};
            for (let [key, value] of formData.entries()) {
                planningData[key] = value.trim();
            }
            
            // Find selected use case
            selectedUseCase = useCases.find(uc => uc.id === planningData.promising);
            
            if (!selectedUseCase) {
                alert('Fehler beim Laden des ausgew√§hlten Use Cases.');
                return;
            }
            
            console.log('Planning data:', planningData);
            console.log('Selected use case:', selectedUseCase);
            
            // Generate and display final report
            displayFinalReport();
            
            // Enable final phase
            currentPhase = Math.max(currentPhase, 4);
            document.getElementById('btnPhase4').classList.remove('disabled');
            
            // Show final report
            showPhase(4);
            
            console.log('Final report generated successfully');
        }
        
        // Display final report
        function displayFinalReport() {
            const container = document.getElementById('finalReportContent');
            const today = new Date().toLocaleDateString('de-DE');
            
            let html = '';
            
            // Header
            html += '<div style="text-align: center; background: linear-gradient(135deg, #000 0%, #333 100%); color: #00FFFF; padding: 30px; border-radius: 15px; margin-bottom: 30px;">';
            html += '<div style="font-size: 36px; font-weight: bold; margin-bottom: 15px;">TYQUA</div>';
            html += '<h3>KI Starter KIT - Abschlussbericht</h3>';
            html += `<p>Erstellt am: ${today}</p>`;
            html += '</div>';
            
            // Company Overview
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üè¢ Unternehmensprofil</h3>';
            html += `<p><strong>Unternehmen:</strong> ${interviewData.business}</p>`;
            html += `<p><strong>Zielgruppe:</strong> ${interviewData.customers}</p>`;
            html += `<p><strong>Akquisitionsstrategie:</strong> ${interviewData.acquisition}</p>`;
            html += '</div>';
            
            // Selected Use Case
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üéØ Ausgew√§hlter Use Case</h3>';
            html += `<h4>${selectedUseCase.name}</h4>`;
            html += `<p>${selectedUseCase.description}</p>`;
            html += '<div style="margin: 15px 0;">';
            html += `<span class="rating-badge ${selectedUseCase.potential}">Potenzial: ${selectedUseCase.potential}</span> `;
            html += `<span class="rating-badge ${selectedUseCase.effort}">Aufwand: ${selectedUseCase.effort}</span> `;
            html += `<span class="rating-badge ${selectedUseCase.priority}">Priorit√§t: ${selectedUseCase.priority}</span>`;
            html += '</div>';
            html += `<p><strong>Implementierungszeit:</strong> ${selectedUseCase.implementation}</p>`;
            html += `<p><strong>Erwartete Vorteile:</strong></p><ul>`;
            selectedUseCase.benefits.forEach(benefit => {
                html += `<li>${benefit}</li>`;
            });
            html += '</ul></div>';
            
            // Implementation Plan
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üìã Umsetzungsplan</h3>';
            html += `<p><strong>30-Tage-Ziel:</strong> ${planningData.result}</p>`;
            html += `<p><strong>Interne Unterst√ºtzung:</strong> ${planningData.support}</p>`;
            html += `<p><strong>Systemkompatibilit√§t:</strong> ${planningData.compatibility}</p>`;
            html += `<p><strong>Erfolgskriterien:</strong> ${planningData.success}</p>`;
            html += '</div>';
            
            // Next Steps
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üöÄ N√§chste Schritte</h3>';
            html += '<ol>';
            html += '<li><strong>Woche 1:</strong> Projekt-Kickoff und Stakeholder-Alignment</li>';
            html += '<li><strong>Woche 2:</strong> Detaillierte Anforderungsanalyse und Technologie-Evaluation</li>';
            html += '<li><strong>Woche 3-4:</strong> Prototyp-Entwicklung und initiale Tests</li>';
            html += '<li><strong>Woche 5-6:</strong> Iterative Verbesserung und User-Feedback</li>';
            html += '<li><strong>Woche 7-8:</strong> Finale Implementierung und Team-Training</li>';
            html += '</ol>';
            html += '</div>';
            
            // Success Metrics
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üìä Erfolgsmessung</h3>';
            html += '<table>';
            html += '<tr><th>Metrik</th><th>Baseline</th><th>Ziel (30 Tage)</th><th>Langfristig (6 Monate)</th></tr>';
            html += '<tr><td>Zeitersparnis</td><td>0%</td><td>20-30%</td><td>50-70%</td></tr>';
            html += '<tr><td>Qualit√§tsverbesserung</td><td>Baseline</td><td>+15%</td><td>+40%</td></tr>';
            html += '<tr><td>Nutzerzufriedenheit</td><td>Aktueller Wert</td><td>+20%</td><td>+50%</td></tr>';
            html += '<tr><td>ROI</td><td>0%</td><td>Break-even</td><td>200-300%</td></tr>';
            html += '</table>';
            html += '</div>';
            
            // Investment Overview
            html += '<div style="background: white; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 5px solid #00FFFF;">';
            html += '<h3 style="color: #00BFBF;">üí∞ Investitions√ºbersicht</h3>';
            const effortCosts = {
                'niedrig': { initial: '5.000-15.000‚Ç¨', monthly: '500-1.500‚Ç¨' },
                'mittel': { initial: '15.000-40.000‚Ç¨', monthly: '1.500-4.000‚Ç¨' },
                'hoch': { initial: '40.000-100.000‚Ç¨', monthly: '4.000-10.000‚Ç¨' }
            };
            const costs = effortCosts[selectedUseCase.effort];
            html += `<p><strong>Initiale Investition:</strong> ${costs.initial}</p>`;
            html += `<p><strong>Laufende Kosten:</strong> ${costs.monthly}/Monat</p>`;
            html += '<p><strong>Erwarteter ROI:</strong> 200-400% in den ersten 12 Monaten</p>';
            html += '</div>';
            
            container.innerHTML = html;
        }
        
        // Download report
        function downloadReport() {
            console.log('Downloading report...');
            
            const reportContent = document.getElementById('finalReportContent').innerHTML;
            const today = new Date().toLocaleDateString('de-DE');
            
            const htmlContent = `
            <!DOCTYPE html>
            <html lang="de">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>TYQUA KI Starter KIT - Bericht</title>
                <style>
                    body {
                        font-family: 'Segoe UI', Tahoma, Geneva, sans-serif;
                        line-height: 1.6;
                        color: #333;
                        max-width: 800px;
                        margin: 0 auto;
                        padding: 20px;
                        background: white;
                    }
                    h1, h2, h3, h4 {
                        color: #00BFBF;
                    }
                    table {
                        width: 100%;
                        border-collapse: collapse;
                        margin: 15px 0;
                    }
                    th, td {
                        padding: 12px;
                        text-align: left;
                        border-bottom: 1px solid #ddd;
                    }
                    th {
                        background-color: #f8f9fa;
                        color: #00BFBF;
                        font-weight: bold;
                    }
                    .rating-badge {
                        background: #00FFFF;
                        color: #000;
                        padding: 3px 8px;
                        border-radius: 12px;
                        font-size: 12px;
                        font-weight: bold;
                        margin-right: 5px;
                    }
                    .rating-badge.high { background: #00ff00; }
                    .rating-badge.medium { background: #ffff00; color: #000; }
                    .rating-badge.low { background: #ff6b6b; color: white; }
                    ul, ol {
                        padding-left: 20px;
                    }
                    li {
                        margin: 5px 0;
                    }
                    @media print {
                        body { margin: 0; padding: 15px; }
                        .no-print { display: none; }
                    }
                </style>
            </head>
            <body>
                ${reportContent}
                <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #00FFFF; text-align: center; color: #777;">
                    <p>¬© 2025 TYQUA - KI Starter KIT Analysetool</p>
                    <p>Bericht erstellt am ${today}</p>
                </div>
            </body>
            </html>`;
            
            // Create and download file
            const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = `TYQUA_KI_Starter_KIT_Bericht_${new Date().toISOString().slice(0,10)}.html`;
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Show success message
            alert('‚úÖ Bericht erfolgreich heruntergeladen!\n\nSie k√∂nnen die HTML-Datei in Ihrem Browser √∂ffnen und √ºber "Drucken" als PDF speichern.');
            
            console.log('Report downloaded successfully');
        }
        
        // Add some utility functions for better user experience
        document.addEventListener('keydown', function(e) {
            // Enable Enter key to submit forms
            if (e.key === 'Enter' && e.ctrlKey) {
                if (currentPhase === 1) {
                    submitInterview();
                } else if (currentPhase === 3) {
                    generateFinalReport();
                }
            }
        });
        
        // Auto-save functionality (optional)
        let autoSaveTimer;
        function autoSave() {
            clearTimeout(autoSaveTimer);
            autoSaveTimer = setTimeout(() => {
                const currentData = {
                    interviewData,
                    useCases,
                    planningData,
                    currentPhase
                };
                localStorage.setItem('tyqua_ki_tool_data', JSON.stringify(currentData));
                console.log('Data auto-saved');
            }, 5000);
        }
        
        // Add event listeners for auto-save
        document.addEventListener('input', autoSave);
        
        // Load saved data on page load
        window.addEventListener('load', function() {
            const savedData = localStorage.getItem('tyqua_ki_tool_data');
            if (savedData && confirm('M√∂chten Sie Ihre vorherigen Eingaben wiederherstellen?')) {
                try {
                    const data = JSON.parse(savedData);
                    interviewData = data.interviewData || {};
                    useCases = data.useCases || [];
                    planningData = data.planningData || {};
                    currentPhase = data.currentPhase || 1;
                    
                    // Restore form values
                    Object.keys(interviewData).forEach(key => {
                        const field = document.getElementById(key);
                        if (field) field.value = interviewData[key];
                    });
                    
                    if (useCases.length > 0) {
                        displayResults();
                        document.getElementById('btnPhase2').classList.remove('disabled');
                        document.getElementById('btnPhase3').classList.remove('disabled');
                    }
                    
                    console.log('Previous session restored');
                } catch (error) {
                    console.error('Error restoring saved data:', error);
                }
            }
        });
        
        console.log('TYQUA KI Analysetool fully loaded and ready');
    </script>
</body>
</html>
